<!--***************************************************************
    * Projet : FEUILLE DE ROUTE MINESUP
    * Code HTML : dashboard.HTML (dashboard page)
    ****************************************************************
    * Auteur : Valentin Magde,Demasso James,Nebo Djomche Joress
    * E-mails : <valentinmagde@gmail.com>
    ****************************************************************
    * Date de création : 04-07-2019 (04 Juillet 2019)
    * Dernière modification : 21-09-2019 (21 Septembre 2019)
    ****************************************************************
    * Historique des modifications :

    ***************************************************************-->
<!DOCTYPE html>
<div id="dashboard" class="dashboard">
    <div class="row" style="margin-bottom: 15px;">
        <div class="col-sm-6 col-lg-3 pull-right">
            <select oninput="replaceUrl()" class="form-control input-lg" id="listestations">
                <option value="0">Selectionnez une station</option>
                <a href="#dashboardstation"><option value="0">Station 1</option></a>
                <option value="0">Station 2</option> 
                <option value="0">Station 3</option>
                <option value="0">Station 4</option>
                <option value="0">Station 5</option>
                <option value="0">Station 6</option>
                <option value="0">Station 7</option>                                     
            </select>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">
            <div id="bar-chart-super" class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Super 5 Novembre 2020</h4>
                    </div>
                </div>
                <div class="panel-body">
                    <div>
                        <canvas width="400" height="140"></canvas>
                    </div>
                </div>
            </div>
            <div id="bar-chart-lavage" class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Lavages 5 Novembre 2020</h4>
                    </div>
                </div>
                <div class="panel-body">
                    <div>
                        <canvas width="400" height="140"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div id="bar-chart-gasoil" class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Gasoil 5 Novembre 2020</h4>
                    </div>
                </div>
                <div class="panel-body">
                    <div>
                        <canvas width="400" height="140"></canvas>
                    </div>
                </div>
            </div>
            <div id="bar-chart-vidange" class="panel panel-light">
                <div class="panel-heading">
                    <div class="panel-title">
                        <h4>Vidanges 5 Novembre 2020</h4>
                    </div>
                </div>
                <div class="panel-body">
                    <div>
                        <canvas width="400" height="140"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <div class="row">
        <div class="col-sm-6 col-lg-3">
            <div class="tile border-1 bg-white">
                <div class="tile-body">
                    <h2 class="margin-top-5 margin-bottom-5">6</h2>
                    <h5><b>Nombre de lavages</b></h5>
                    <i class="fa fa-motorcycle tile-icon fa-2x text-danger"></i>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-3">
            <div class="tile border-1 bg-white">
                <div class="tile-body">
                    <h2 class="margin-top-5">3</h2>
                    <h5><b>Nombre de vidanges</b></h5>
                    <i class="fa fa-truck tile-icon fa-2x text-black"></i>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-3">
            <div class="tile border-1 bg-white">
                <div class="tile-body">
                    <h2 class="margin-top-5">159</h2>
                    <h5><b>Nombre de ventes</b></h5>
                    <i class="fa fa-tags fa-2x text-info tile-icon"></i>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-3">
            <div class="tile border-1 bg-white">
                <div class="tile-body">
                    <h2 class="margin-top-5">667 400 FCFA</h2>
                    <h5><b>Revenues</b></h5>
                    <i class="fa fa-money tile-icon fa-2x text-success"></i>
                </div>
            </div>
        </div>
    </div>
    <div>
        <div id="dashboard-statisticts-panel" class="panel panel-light">
            <div class="panel-heading">
                <div class="panel-title">
                    <i class="fa fa-line-chart"></i> Statistiques
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-12">
                        <div>
                            <canvas id="line-chart" height="250" width="900"></canvas>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <h3 class="text-center margin-top-5">Produits les plus vendus de la semaine</h3>
                    <div class="col-xxs-12 col-xs-6 col-sm-3 text-center">
                        <h4>Produits Blancs</h4>
                        <canvas id="dashbboard-produits-blancs" height="100" width="100"></canvas>
                        <h5>
                            Total <span class="badge font-size-lg">2125</span> commandes
                        </h5>
                    </div>
                    <div class="col-xxs-12 col-xs-6 col-sm-3 text-center">
                        <h4>Lubrifiants</h4>
                        <canvas id="dashbboard-lubrifiants" height="100" width="100"></canvas>
                        <h5>
                            Total <span class="badge font-size-lg">1742</span> commandes
                        </h5>
                    </div>
                    <div class="col-xxs-12 col-xs-6 col-sm-3 text-center">
                        <h4>Gaz</h4>
                        <canvas id="dashbboard-gaz" height="100" width="100"></canvas>
                        <h5>
                            Total <span class="badge font-size-lg">69</span> commandes
                        </h5>
                    </div>
                    <div class="col-xxs-12 col-xs-6 col-sm-3 text-center">
                        <h4>Boisson alcoolisée</h4>
                        <canvas id="dashbboard-boisson-alcoolisee" height="100" width="100"></canvas>
                        <h5>
                            Total <span class="badge font-size-lg">145</span> commandes
                        </h5>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xxs-12 col-xs-6 col-sm-3 text-center">
                        <h4>Boisson non alcoolisée</h4>
                        <canvas id="dashbboard-boisson-non-alcoolisee" height="100" width="100"></canvas>
                        <h5>
                            Total <span class="badge font-size-lg">2125</span> commandes
                        </h5>
                    </div>
                    <div class="col-xxs-12 col-xs-6 col-sm-3 text-center">
                        <h4>Produits Frais</h4>
                        <canvas id="dashbboard-produits-frais" height="100" width="100"></canvas>
                        <h5>
                            Total <span class="badge font-size-lg">1742</span> commandes
                        </h5>
                    </div>
                    <div class="col-xxs-12 col-xs-6 col-sm-3 text-center">
                        <h4>Epicerie</h4>
                        <canvas id="dashbboard-epicerie" height="100" width="100"></canvas>
                        <h5>
                            Total <span class="badge font-size-lg">69</span> commandes
                        </h5>
                    </div>
                    <div class="col-xxs-12 col-xs-6 col-sm-3 text-center">
                        <h4>Tabacs</h4>
                        <canvas id="dashbboard-tabac" height="100" width="100"></canvas>
                        <h5>
                            Total <span class="badge font-size-lg">145</span> commandes
                        </h5>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <style type="text/css">
        canvas {
            margin: 0 auto;
        }
    </style>
    <script type="text/javascript">
        function replaceUrl(){
            location.replace('http://localhost/feuille-tour-client/pages/superviseur/#dashboardstation')
            location.reload();
        }
        /***** Liste des stations *****/
        /*afficherLesOptionsDesStations();*/
        

        LobiAdmin.loadScript([
            '../../js/plugin/chartjs/Chart.min.js'
        ], function(){
            LobiAdmin.loadScript('../../js/plugin/chartjs/Chart.StackedBar.js', initPage);
        });
        
        function initPage(){
        $('.panel').lobiPanel({
            reload: false,
            editTitle: false,
            sortable: true
        });
        
        var options = {
            legend: {
                display: true,
            },
            responsive: true
        };
        var lineChart,
            barChart,
            radarChart,
            polarChart,
            pieChart,
            doughnutChart,
            stackedBarChart,
            lineErrorChart;
            
        var lineData,
            barData,
            radarData,
            areaData,
            pieData,
            doughnutData,
            barChartData,
            lineChartData;
        var COLOR1 = LobiAdmin.lightenColor(LobiAdmin.DEFAULT_COLOR, -15);
        var COLOR2 = LobiAdmin.lightenColor(LobiAdmin.DEFAULT_COLOR, 0);
        var COLOR3 = LobiAdmin.fadeOutColor(LobiAdmin.DEFAULT_COLOR, 20);
        var COLOR4 = LobiAdmin.fadeOutColor(LobiAdmin.DEFAULT_COLOR, 40);
        var COLOR5 = LobiAdmin.fadeOutColor(LobiAdmin.DEFAULT_COLOR, 60);
//------------------------------------------------------------------------------
        (function(){
            // Get the context of the canvas element we want to select
            var ctx = $("#bar-chart-super canvas")[0].getContext("2d");
            
            barData = {
                labels: ["Station1", "Station2", "Station3", "Station4", "Station5", "Station6", "Station7"],
                datasets: fillChartJsColors('bar', [
                    {
                        label: "My First dataset",
                        strokeColor: 'rgba(246, 151, 35, 0.2)',
                        data: [65, 59, 80, 81, 56, 55, 40]
                    },
                ])
            };

            var optionsData = {
                legend: {
                    display: true,
                },
                responsive: true
            }
            barChart = new Chart(ctx).Bar(barData, optionsData);
        })();
//------------------------------------------------------------------------------
        (function(){
            // Get the context of the canvas element we want to select
            var ctx = $("#bar-chart-gasoil canvas")[0].getContext("2d");
            
            barData = {
                labels: ["Station1", "Station2", "Station3", "Station4", "Station5", "Station6", "Station7"],
                datasets: fillChartJsColors('bar', [
                    {
                        label: "My First dataset",
                        strokeColor: 'rgba(132, 101, 195, 0.2)',
                        data: [65, 59, 80, 81, 56, 55, 40]
                    }
                ])
            };

            var optionsData = {
                legend: {
                    display: true,
                },
                responsive: true
            }
            barChart = new Chart(ctx).Bar(barData, optionsData);
        })();
//------------------------------------------------------------------------------
        (function(){
            // Get the context of the canvas element we want to select
            var ctx = $("#bar-chart-lavage canvas")[0].getContext("2d");
            
            barData = {
                labels: ["Station1", "Station2", "Station3", "Station4", "Station5", "Station6", "Station7"],
                datasets: fillChartJsColors('bar', [
                    {
                        label: "My First dataset",
                        strokeColor: LobiAdmin.fadeOutColor(LobiAdmin.DEFAULT_COLOR, 60),
                        data: [65, 59, 80, 81, 56, 55, 40]
                    }
                ])
            };

            var optionsData = {
                legend: {
                    display: true,
                },
                responsive: true
            }
            barChart = new Chart(ctx).Bar(barData, optionsData);
        })();
//------------------------------------------------------------------------------
        (function(){
            // Get the context of the canvas element we want to select
            var ctx = $("#bar-chart-vidange canvas")[0].getContext("2d");
            
            barData = {
                labels: ["Station1", "Station2", "Station3", "Station4", "Station5", "Station6", "Station7"],
                datasets: fillChartJsColors('bar', [
                    {
                        label: "My First dataset",
                        strokeColor: 'rgba(0,0,0,0.4)',
                        data: [65, 59, 80, 81, 56, 55, 40]
                    },
                    {
                        label: "My First dataset",
                        strokeColor: 'rgba(0,0,0,0.2)',
                        data: [05, 69, 70, 51, 86, 45, 40]
                    },
                ])
            };

            var optionsData = {
                legend: {
                    display: true,
                },
                responsive: true
            }
            barChart = new Chart(ctx).Bar(barData, optionsData);
        })();
//------------------------------------------------------------------------------
        
        $('body').on('beforePageLoad.lobiAdmin.1', function(){
            lineChart.destroy();
            barChart.destroy();
            radarChart.destroy();
            doughnutChart.destroy();
            pieChart.destroy();
            polarChart.destroy();
            stackedBarChart.destroy();
            lineErrorChart.destroy();
            $('body').off('beforePageLoad.lobiAdmin.1');
        });
        
        $("#line-chart").on('onFullScreen.lobiPanel onSmallSize.lobiPanel resizeStop.lobiPanel onPin.lobiPanel onUnpin.lobiPanel', function(ev, lobiPanel){
            setTimeout(function(){
                lineChart.destroy();
                lineChart = new Chart(lineChart.chart.ctx).Line(lineData, options);
            }, 100);
        });
        $("#bar-chart").on('onFullScreen.lobiPanel onSmallSize.lobiPanel resizeStop.lobiPanel onPin.lobiPanel onUnpin.lobiPanel', function(ev, lobiPanel){
            setTimeout(function(){
                barChart.destroy();
                barChart = new Chart(barChart.chart.ctx).Bar(barData, options);
            }, 100);
        });
        $("#radar-chart").on('onFullScreen.lobiPanel onSmallSize.lobiPanel resizeStop.lobiPanel onPin.lobiPanel onUnpin.lobiPanel', function(ev, lobiPanel){
            setTimeout(function(){
                radarChart.destroy();
                radarChart = new Chart(radarChart.chart.ctx).Radar(radarData, options);
            }, 100);
        });
        $("#polar-area-chart").on('onFullScreen.lobiPanel onSmallSize.lobiPanel resizeStop.lobiPanel onPin.lobiPanel onUnpin.lobiPanel', function(ev, lobiPanel){
            setTimeout(function(){
                polarChart.destroy();
                polarChart = new Chart(polarChart.chart.ctx).PolarArea(areaData, options);
            }, 100);
        });
        
    }
    </script>
</div>